<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `Sort1dExt` trait in crate `ndarray_stats`."><meta name="keywords" content="rust, rustlang, rust-lang, Sort1dExt"><title>ndarray_stats::Sort1dExt - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../ndarray_stats/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Trait Sort1dExt</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.__private__">__private__</a><a href="#tymethod.get_from_sorted_mut">get_from_sorted_mut</a><a href="#tymethod.get_many_from_sorted_mut">get_many_from_sorted_mut</a><a href="#tymethod.partition_mut">partition_mut</a></div><a class="sidebar-title" href="#foreign-impls">Implementations on Foreign Types</a><div class="sidebar-links"><a href="#impl-Sort1dExt%3CA%2C%20S%3E-for-ArrayBase%3CS%2C%20Ix1%3E">ArrayBase&lt;S, Ix1&gt;</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='index.html'>ndarray_stats</a></p><script>window.sidebarCurrent = {name: 'Sort1dExt', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/ndarray_stats/sort.rs.html#8-103' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='index.html'>ndarray_stats</a>::<wbr><a class="trait" href=''>Sort1dExt</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait Sort1dExt&lt;A, S&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = A&gt;,&nbsp;</span>{
    fn <a href='#tymethod.get_from_sorted_mut' class='fnname'>get_from_sorted_mut</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; A<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a></span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.get_many_from_sorted_mut' class='fnname'>get_many_from_sorted_mut</a>&lt;S2&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexes: &amp;<a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S2, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="../indexmap/map/struct.IndexMap.html" title="struct indexmap::map::IndexMap">IndexMap</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, A&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S2: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.partition_mut' class='fnname'>partition_mut</a>(&amp;mut self, pivot_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a></span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.__private__' class='fnname'>__private__</a>(&amp;self, _: PrivateMarker);
}</pre></div><div class='docblock'><p>Methods for sorting and partitioning 1-D arrays.</p>
</div>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.get_from_sorted_mut' class='method'><code>fn <a href='#tymethod.get_from_sorted_mut' class='fnname'>get_from_sorted_mut</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; A <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,&nbsp;</span></code></h3><div class='docblock'><p>Return the element that would occupy the <code>i</code>-th position if
the array were sorted in increasing order.</p>
<p>The array is shuffled <strong>in place</strong> to retrieve the desired element:
no copy of the array is allocated.
After the shuffling, all elements with an index smaller than <code>i</code>
are smaller than the desired element, while all elements with
an index greater or equal than <code>i</code> are greater than or equal
to the desired element.</p>
<p>No other assumptions should be made on the ordering of the
elements after this computation.</p>
<p>Complexity (<a href="https://en.wikipedia.org/wiki/Quickselect">quickselect</a>):</p>
<ul>
<li>average case: O(<code>n</code>);</li>
<li>worst case: O(<code>n</code>^2);
where n is the number of elements in the array.</li>
</ul>
<p><strong>Panics</strong> if <code>i</code> is greater than or equal to <code>n</code>.</p>
</div><h3 id='tymethod.get_many_from_sorted_mut' class='method'><code>fn <a href='#tymethod.get_many_from_sorted_mut' class='fnname'>get_many_from_sorted_mut</a>&lt;S2&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;indexes: &amp;<a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S2, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;<br>) -&gt; <a class="struct" href="../indexmap/map/struct.IndexMap.html" title="struct indexmap::map::IndexMap">IndexMap</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, A&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S2: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;,&nbsp;</span></code></h3><div class='docblock'><p>A bulk version of <a href="#tymethod.get_from_sorted_mut"><code>get_from_sorted_mut</code></a>, optimized to retrieve multiple
indexes at once.
It returns an <code>IndexMap</code>, with indexes as keys and retrieved elements as
values.
The <code>IndexMap</code> is sorted with respect to indexes in increasing order:
this ordering is preserved when you iterate over it (using <code>iter</code>/<code>into_iter</code>).</p>
<p><strong>Panics</strong> if any element in <code>indexes</code> is greater than or equal to <code>n</code>,
where <code>n</code> is the length of the array..</p>
</div><h3 id='tymethod.partition_mut' class='method'><code>fn <a href='#tymethod.partition_mut' class='fnname'>partition_mut</a>(&amp;mut self, pivot_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,&nbsp;</span></code></h3><div class='docblock'><p>Partitions the array in increasing order based on the value initially
located at <code>pivot_index</code> and returns the new index of the value.</p>
<p>The elements are rearranged in such a way that the value initially
located at <code>pivot_index</code> is moved to the position it would be in an
array sorted in increasing order. The return value is the new index of
the value after rearrangement. All elements smaller than the value are
moved to its left and all elements equal or greater than the value are
moved to its right. The ordering of the elements in the two partitions
is undefined.</p>
<p><code>self</code> is shuffled <strong>in place</strong> to operate the desired partition:
no copy of the array is allocated.</p>
<p>The method uses Hoare's partition algorithm.
Complexity: O(<code>n</code>), where <code>n</code> is the number of elements in the array.
Average number of element swaps: n/6 - 1/3 (see
<a href="https://cs.stackexchange.com/questions/11458/quicksort-partitioning-hoare-vs-lomuto/11550">link</a>)</p>
<p><strong>Panics</strong> if <code>pivot_index</code> is greater than or equal to <code>n</code>.</p>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ndarray</span>::<span class="ident">array</span>;
<span class="kw">use</span> <span class="ident">ndarray_stats</span>::<span class="ident">Sort1dExt</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">data</span> <span class="op">=</span> <span class="macro">array</span><span class="macro">!</span>[<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>];
<span class="kw">let</span> <span class="ident">pivot_index</span> <span class="op">=</span> <span class="number">2</span>;
<span class="kw">let</span> <span class="ident">pivot_value</span> <span class="op">=</span> <span class="ident">data</span>[<span class="ident">pivot_index</span>];

<span class="comment">// Partition by the value located at `pivot_index`.</span>
<span class="kw">let</span> <span class="ident">new_index</span> <span class="op">=</span> <span class="ident">data</span>.<span class="ident">partition_mut</span>(<span class="ident">pivot_index</span>);
<span class="comment">// The pivot value is now located at `new_index`.</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">data</span>[<span class="ident">new_index</span>], <span class="ident">pivot_value</span>);
<span class="comment">// Elements less than that value are moved to the left.</span>
<span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="number">0</span>..<span class="ident">new_index</span> {
    <span class="macro">assert</span><span class="macro">!</span>(<span class="ident">data</span>[<span class="ident">i</span>] <span class="op">&lt;</span> <span class="ident">pivot_value</span>);
}
<span class="comment">// Elements greater than or equal to that value are moved to the right.</span>
<span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> (<span class="ident">new_index</span> <span class="op">+</span> <span class="number">1</span>)..<span class="ident">data</span>.<span class="ident">len</span>() {
     <span class="macro">assert</span><span class="macro">!</span>(<span class="ident">data</span>[<span class="ident">i</span>] <span class="op">&gt;=</span> <span class="ident">pivot_value</span>);
}</pre></div>
</div><h3 id='tymethod.__private__' class='method'><code>fn <a href='#tymethod.__private__' class='fnname'>__private__</a>(&amp;self, _: PrivateMarker)</code></h3><div class='docblock'><p>This method makes this trait impossible to implement outside of
<code>ndarray-stats</code> so that we can freely add new methods, etc., to
this trait without breaking changes.</p>
<p>We don't anticipate any other crates needing to implement this
trait, but if you do have such a use-case, please let us know.</p>
<p><strong>Warning</strong> This method is not considered part of the public
API, and client code should not rely on it being present. It
may be removed in a non-breaking release.</p>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='foreign-impls' class='small-section-header'>Implementations on Foreign Types<a href='#foreign-impls' class='anchor'></a></h2><h3 id='impl-Sort1dExt%3CA%2C%20S%3E-for-ArrayBase%3CS%2C%20Ix1%3E' class='impl'><code class='in-band'>impl&lt;A, S&gt; <a class="trait" href="../ndarray_stats/trait.Sort1dExt.html" title="trait ndarray_stats::Sort1dExt">Sort1dExt</a>&lt;A, S&gt; for <a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = A&gt;,&nbsp;</span></code><a href='#impl-Sort1dExt%3CA%2C%20S%3E-for-ArrayBase%3CS%2C%20Ix1%3E' class='anchor'></a><a class='srclink' href='../src/ndarray_stats/sort.rs.html#105-185' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.get_from_sorted_mut' class="method hidden"><code>fn <a href='#method.get_from_sorted_mut' class='fnname'>get_from_sorted_mut</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; A <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,&nbsp;</span></code><a class='srclink' href='../src/ndarray_stats/sort.rs.html#109-131' title='goto source code'>[src]</a></h4><h4 id='method.get_many_from_sorted_mut' class="method hidden"><code>fn <a href='#method.get_many_from_sorted_mut' class='fnname'>get_many_from_sorted_mut</a>&lt;S2&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;indexes: &amp;<a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S2, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;<br>) -&gt; <a class="struct" href="../indexmap/map/struct.IndexMap.html" title="struct indexmap::map::IndexMap">IndexMap</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, A&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S2: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;,&nbsp;</span></code><a class='srclink' href='../src/ndarray_stats/sort.rs.html#133-144' title='goto source code'>[src]</a></h4><h4 id='method.partition_mut' class="method hidden"><code>fn <a href='#method.partition_mut' class='fnname'>partition_mut</a>(&amp;mut self, pivot_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,&nbsp;</span></code><a class='srclink' href='../src/ndarray_stats/sort.rs.html#146-182' title='goto source code'>[src]</a></h4><h4 id='method.__private__' class="method hidden"><code>fn <a href='#method.__private__' class='fnname'>__private__</a>(&amp;self, _: PrivateMarker)</code><a class='srclink' href='../src/ndarray_stats/lib.rs.html#96' title='goto source code'>[src]</a></h4></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../implementors/ndarray_stats/trait.Sort1dExt.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "ndarray_stats";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>
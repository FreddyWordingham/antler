<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Extension traits for viewing a slice as a slice of arrays or vice versa."><meta name="keywords" content="rust, rustlang, rust-lang, slice_of_array"><title>slice_of_array - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../slice_of_array/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../slice_of_array/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate slice_of_array</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.3.2</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#traits">Traits</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../slice_of_array/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">slice_of_array</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/slice_of_array/lib.rs.html#1-537">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Extension traits for viewing a slice as a slice of arrays or vice versa.</p>
<p>Provides the following methods on <code>[T]</code>:</p>
<ul>
<li><strong><a href="trait.SliceNestExt.html#tymethod.nest"><code>nest</code></a></strong>: <code>&amp;[T] -&gt; &amp;[[T; n]]</code></li>
<li><strong><a href="trait.SliceFlatExt.html#tymethod.flat"><code>flat</code></a></strong>: <code>&amp;[[T; n]] -&gt; &amp;[T]</code></li>
<li><strong><a href="trait.SliceArrayExt.html#tymethod.as_array"><code>as_array</code></a></strong>: <code>&amp;[T] -&gt; &amp;[T; n]</code> (the reverse is
already provided by a coercion)</li>
<li><strong><code>nest_mut</code>, <code>flat_mut</code>, <code>as_mut_array</code></strong> for <code>&amp;mut [_]</code>.</li>
</ul>
<p>Altogether, these let you swap between arbitrary representations
of contiguous, <code>T</code>-aligned streams of <code>T</code> data.  For instance,
to view a <code>[[i32; 6]; 5]</code> as a <code>&amp;[[[i32; 3]; 2]; 5]</code>,
one could write</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">x</span>.<span class="ident">flat</span>().<span class="ident">nest</span>().<span class="ident">nest</span>().<span class="ident">as_array</span>()</code></pre></div>
<p>Type inference generally works quite well, and as long as the
final shape is unambiguous there is no need to annotate types
in the middle of the method chain.</p>
<p>In cases where type inference is unable to determine the target
array size, one can use a turbofish: e.g .<code>x.nest::&lt;[_; 3]&gt;()</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">::slice_of_array::prelude</span>::<span class="kw-2">*</span>;

<span class="kw">let</span> <span class="ident">vec</span> <span class="op">=</span> <span class="macro">vec!</span>[[<span class="number">2i32</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>], [<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]];
<span class="macro">assert_eq!</span>(<span class="ident">vec</span>.<span class="ident">flat</span>(), <span class="kw-2">&amp;</span>[<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]);

<span class="comment">// note: this requires an annotation only due to polymorphism in PartialEq</span>
<span class="kw">let</span> <span class="ident">slc</span> <span class="op">=</span> <span class="ident">vec</span>.<span class="ident">nest</span>::<span class="op">&lt;</span>[<span class="kw">_</span>; <span class="number">2</span>]<span class="op">&gt;</span>();
<span class="macro">assert_eq!</span>(<span class="ident">slc</span>, <span class="kw-2">&amp;</span>[[[<span class="number">2i32</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>]], [[<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]]);</code></pre></div>
<p><a href="trait.SliceNestExt.html#tymethod.nest"><code>nest</code></a> and <a href="trait.SliceArrayExt.html#tymethod.as_array"><code>as_array</code></a> panic on failure rather than returning options.
The rationale is that it is believed that these these conversions are
seldom needed on arbitrary user data which may be the wrong size; rather,
they are most likely used when bridging the gap between APIs that work
with flattened slices and APIs that work with slices of arrays.</p>
<p>Zero-cost conversions in owned data (e.g. between <code>Vec&lt;T&gt;</code>
and <code>Vec&lt;[T; n]&gt;</code>) are not provided, and are probably impossible
in consideration of e.g. custom allocators. If you need to
convert between such types, you can use these traits in tandem
with <code>&lt;[T]&gt;::to_vec</code> to perform a copy:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">vec</span> <span class="op">=</span> <span class="macro">vec!</span>[[<span class="number">2i32</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>]];

<span class="comment">// copying into a Vec&lt;i32&gt;</span>
<span class="kw">let</span> <span class="ident">flattened</span> <span class="op">=</span> <span class="ident">vec</span>.<span class="ident">flat</span>().<span class="ident">to_vec</span>();
<span class="macro">assert_eq!</span>(<span class="ident">flattened</span>, <span class="macro">vec!</span>[<span class="number">2i32</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>]);</code></pre></div>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="slice_of_array::prelude mod">prelude</a></div><div class="item-right docblock-short"><p>This module contains extension traits from <code>slice_of_array</code>.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IsSliceomorphic.html" title="slice_of_array::IsSliceomorphic trait">IsSliceomorphic</a></div><div class="item-right docblock-short"><p>Marker trait used in bounds of <code>Slice{Flat,Nest,Array}Ext</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SliceArrayExt.html" title="slice_of_array::SliceArrayExt trait">SliceArrayExt</a></div><div class="item-right docblock-short"><p>Permits viewing a slice as an array.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SliceFlatExt.html" title="slice_of_array::SliceFlatExt trait">SliceFlatExt</a></div><div class="item-right docblock-short"><p>Permits viewing a slice of arrays as a flat slice.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SliceNestExt.html" title="slice_of_array::SliceNestExt trait">SliceNestExt</a></div><div class="item-right docblock-short"><p>Permits viewing a slice as a slice of arrays.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="slice_of_array" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>
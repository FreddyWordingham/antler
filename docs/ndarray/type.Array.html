<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An array that owns its data uniquely."><meta name="keywords" content="rust, rustlang, rust-lang, Array"><title>Array in ndarray - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../ndarray/index.html"><div class="logo-container"><img src="https://rust-ndarray.github.io/images/rust-ndarray_logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../ndarray/index.html"><div class="logo-container">
                    <img src="https://rust-ndarray.github.io/images/rust-ndarray_logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Array</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.append">append</a></li><li><a href="#method.into_raw_vec">into_raw_vec</a></li><li><a href="#method.into_scalar">into_scalar</a></li><li><a href="#method.move_into">move_into</a></li><li><a href="#method.move_into_uninit">move_into_uninit</a></li><li><a href="#method.push">push</a></li><li><a href="#method.push_column">push_column</a></li><li><a href="#method.push_row">push_row</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><ul><li><a href="#impl-IntoIterator">IntoIterator</a></li><li><a href="#impl-IntoParallelIterator">IntoParallelIterator</a></li><li><a href="#impl-IntoParallelIterator-1">IntoParallelIterator</a></li></ul></div></section><h2 class="location"><a href="index.html">In ndarray</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../ndarray/index.html">
                        <img src="https://rust-ndarray.github.io/images/rust-ndarray_logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Type Definition <a href="index.html">ndarray</a>::<wbr><a class="type" href="#">Array</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/ndarray/lib.rs.html#1329">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust typedef"><code>pub type Array&lt;A, D&gt; = <a class="struct" href="struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;<a class="struct" href="struct.OwnedRepr.html" title="struct ndarray::OwnedRepr">OwnedRepr</a>&lt;A&gt;, D&gt;;</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An array that owns its data uniquely.</p>
<p><code>Array</code> is the main n-dimensional array type, and it owns all its array
elements.</p>
<p>The <code>Array&lt;A, D&gt;</code> is parameterized by <code>A</code> for the element type and <code>D</code> for
the dimensionality.</p>
<p><strong><a href="struct.ArrayBase.html" title="ArrayBase"><code>ArrayBase</code></a></strong> is used to implement both the owned
arrays and the views; see its docs for an overview of all array features.</p>
<p>See also:</p>
<ul>
<li><a href="struct.ArrayBase.html#constructor-methods-for-owned-arrays">Constructor Methods for Owned Arrays</a></li>
<li><a href="struct.ArrayBase.html#methods-for-all-array-types">Methods For All Array Types</a></li>
<li>Dimensionality-specific type alises
<a href="type.Array1.html" title="Array1"><code>Array1</code></a>,
<a href="type.Array2.html" title="Array2"><code>Array2</code></a>,
<a href="type.Array3.html" title="Array3"><code>Array3</code></a>, …,
<a href="type.ArrayD.html" title="ArrayD"><code>ArrayD</code></a>,
and so on.</li>
</ul>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#20-52">source</a></span><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl&lt;A&gt; <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, <a class="type" href="type.Ix0.html" title="type ndarray::Ix0">Ix0</a>&gt;</h3></section></summary><div class="docblock"><p>Methods specific to <code>Array0</code>.</p>
<p><em><strong>See also all methods for <a href="struct.ArrayBase.html" title="ArrayBase"><code>ArrayBase</code></a></strong></em></p>
</div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into_scalar" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#34-51">source</a></span><a href="#method.into_scalar" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.into_scalar" class="fnname">into_scalar</a>(self) -&gt; A</h4></section></summary><div class="docblock"><p>Returns the single element in the array without cloning it.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray</span>::{<span class="ident">arr0</span>, <span class="ident">Array0</span>};

<span class="comment">// `Foo` doesn&#39;t implement `Clone`.</span>
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>, <span class="ident">Eq</span>, <span class="ident">PartialEq</span>)]</span>
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">let</span> <span class="ident">array</span>: <span class="ident">Array0</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">arr0</span>(<span class="ident">Foo</span>);
<span class="kw">let</span> <span class="ident">scalar</span>: <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">array</span>.<span class="ident">into_scalar</span>();
<span class="macro">assert_eq!</span>(<span class="ident">scalar</span>, <span class="ident">Foo</span>);</code></pre></div>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#57-69">source</a></span><a href="#impl-1" class="anchor"></a><h3 class="code-header in-band">impl&lt;A, D&gt; <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, D&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.Dimension.html" title="trait ndarray::Dimension">Dimension</a>,&nbsp;</span></h3></section></summary><div class="docblock"><p>Methods specific to <code>Array</code>.</p>
<p><em><strong>See also all methods for <a href="struct.ArrayBase.html" title="ArrayBase"><code>ArrayBase</code></a></strong></em></p>
</div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into_raw_vec" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#66-68">source</a></span><a href="#method.into_raw_vec" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.into_raw_vec" class="fnname">into_raw_vec</a>(self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.63.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;A&gt;</h4></section></summary><div class="docblock"><p>Return a vector of the elements in the array, in the way they are
stored internally.</p>
<p>If the array is in standard memory layout, the logical element order
of the array (<code>.iter()</code> order) and of the returned vector will be the same.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-2" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#74-166">source</a></span><a href="#impl-2" class="anchor"></a><h3 class="code-header in-band">impl&lt;A&gt; <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, <a class="type" href="type.Ix2.html" title="type ndarray::Ix2">Ix2</a>&gt;</h3></section></summary><div class="docblock"><p>Methods specific to <code>Array2</code>.</p>
<p><em><strong>See also all methods for <a href="struct.ArrayBase.html" title="ArrayBase"><code>ArrayBase</code></a></strong></em></p>
</div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.push_row" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#114-119">source</a></span><a href="#method.push_row" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.push_row" class="fnname">push_row</a>(&amp;mut self, row: <a class="type" href="type.ArrayView.html" title="type ndarray::ArrayView">ArrayView</a>&lt;'_, A, <a class="type" href="type.Ix1.html" title="type ndarray::Ix1">Ix1</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.63.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.ShapeError.html" title="struct ndarray::ShapeError">ShapeError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Append a row to an array</p>
<p>The elements from <code>row</code> are cloned and added as a new row in the array.</p>
<p><em><strong>Errors</strong></em> with a shape error if the length of the row does not match the length of the
rows in the array.</p>
<p>The memory layout of the <code>self</code> array matters for ensuring that the append is efficient.
Appending automatically changes memory layout of the array so that it is appended to
along the “growing axis”. However, if the memory layout needs adjusting, the array must
reallocate and move memory.</p>
<p>The operation leaves the existing data in place and is most efficent if one of these is
true:</p>
<ul>
<li>The axis being appended to is the longest stride axis, i.e the array is in row major
(“C”) layout.</li>
<li>The array has 0 or 1 rows (It is converted to row major)</li>
</ul>
<p>Ensure appending is efficient by, for example, appending to an empty array and then always
pushing/appending along the same axis. For pushing rows, ndarray’s default layout (C order)
is efficient.</p>
<p>When repeatedly appending to a single axis, the amortized average complexity of each
append is O(m), where <em>m</em> is the length of the row.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray</span>::{<span class="ident">Array</span>, <span class="ident">ArrayView</span>, <span class="ident">array</span>};

<span class="comment">// create an empty array and append</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Array::zeros</span>((<span class="number">0</span>, <span class="number">4</span>));
<span class="ident">a</span>.<span class="ident">push_row</span>(<span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>])).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">push_row</span>(<span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="op">-</span><span class="number">1.</span>, <span class="op">-</span><span class="number">2.</span>, <span class="op">-</span><span class="number">3.</span>, <span class="op">-</span><span class="number">4.</span>])).<span class="ident">unwrap</span>();

<span class="macro">assert_eq!</span>(
    <span class="ident">a</span>,
    <span class="macro">array!</span>[[ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>],
           [<span class="op">-</span><span class="number">1.</span>, <span class="op">-</span><span class="number">2.</span>, <span class="op">-</span><span class="number">3.</span>, <span class="op">-</span><span class="number">4.</span>]]);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.push_column" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#160-165">source</a></span><a href="#method.push_column" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.push_column" class="fnname">push_column</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;column: <a class="type" href="type.ArrayView.html" title="type ndarray::ArrayView">ArrayView</a>&lt;'_, A, <a class="type" href="type.Ix1.html" title="type ndarray::Ix1">Ix1</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.63.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.ShapeError.html" title="struct ndarray::ShapeError">ShapeError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Append a column to an array</p>
<p>The elements from <code>column</code> are cloned and added as a new column in the array.</p>
<p><em><strong>Errors</strong></em> with a shape error if the length of the column does not match the length of
the columns in the array.</p>
<p>The memory layout of the <code>self</code> array matters for ensuring that the append is efficient.
Appending automatically changes memory layout of the array so that it is appended to
along the “growing axis”. However, if the memory layout needs adjusting, the array must
reallocate and move memory.</p>
<p>The operation leaves the existing data in place and is most efficent if one of these is
true:</p>
<ul>
<li>The axis being appended to is the longest stride axis, i.e the array is in column major
(“F”) layout.</li>
<li>The array has 0 or 1 columns (It is converted to column major)</li>
</ul>
<p>Ensure appending is efficient by, for example, appending to an empty array and then always
pushing/appending along the same axis. For pushing columns, column major layout (F order)
is efficient.</p>
<p>When repeatedly appending to a single axis, the amortized average complexity of each append
is O(m), where <em>m</em> is the length of the column.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray</span>::{<span class="ident">Array</span>, <span class="ident">ArrayView</span>, <span class="ident">array</span>};

<span class="comment">// create an empty array and append</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Array::zeros</span>((<span class="number">2</span>, <span class="number">0</span>));
<span class="ident">a</span>.<span class="ident">push_column</span>(<span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="number">1.</span>, <span class="number">2.</span>])).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">push_column</span>(<span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="op">-</span><span class="number">1.</span>, <span class="op">-</span><span class="number">2.</span>])).<span class="ident">unwrap</span>();

<span class="macro">assert_eq!</span>(
    <span class="ident">a</span>,
    <span class="macro">array!</span>[[<span class="number">1.</span>, <span class="op">-</span><span class="number">1.</span>],
           [<span class="number">2.</span>, <span class="op">-</span><span class="number">2.</span>]]);</code></pre></div>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-3" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#168-660">source</a></span><a href="#impl-3" class="anchor"></a><h3 class="code-header in-band">impl&lt;A, D&gt; <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, D&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.Dimension.html" title="trait ndarray::Dimension">Dimension</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.move_into" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#189-205">source</a></span><a href="#method.move_into" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.move_into" class="fnname">move_into</a>&lt;'a, AM&gt;(self, new_array: AM) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;AM: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="type" href="type.ArrayViewMut.html" title="type ndarray::ArrayViewMut">ArrayViewMut</a>&lt;'a, A, D&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: 'a,&nbsp;</span></h4></section></summary><div class="docblock"><p>Move all elements from self into <code>new_array</code>, which must be of the same shape but
can have a different memory layout. The destination is overwritten completely.</p>
<p>The destination should be a mut reference to an array or an <code>ArrayViewMut</code> with
<code>A</code> elements.</p>
<p><em><strong>Panics</strong></em> if the shapes don’t agree.</p>
<h6 id="example"><a href="#example">Example</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray::Array</span>;

<span class="comment">// Usage example of move_into in safe code</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Array::default</span>((<span class="number">10</span>, <span class="number">10</span>));
<span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">Array::from_shape_fn</span>((<span class="number">10</span>, <span class="number">10</span>), <span class="op">|</span>(<span class="ident">i</span>, <span class="ident">j</span>)<span class="op">|</span> (<span class="ident">i</span> <span class="op">+</span> <span class="ident">j</span>).<span class="ident">to_string</span>());
<span class="ident">b</span>.<span class="ident">move_into</span>(<span class="kw-2">&amp;mut</span> <span class="ident">a</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.move_into_uninit" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#242-249">source</a></span><a href="#method.move_into_uninit" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.move_into_uninit" class="fnname">move_into_uninit</a>&lt;'a, AM&gt;(self, new_array: AM) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;AM: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="type" href="type.ArrayViewMut.html" title="type ndarray::ArrayViewMut">ArrayViewMut</a>&lt;'a, <a class="union" href="https://doc.rust-lang.org/1.63.0/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;A&gt;, D&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: 'a,&nbsp;</span></h4></section></summary><div class="docblock"><p>Move all elements from self into <code>new_array</code>, which must be of the same shape but
can have a different memory layout. The destination is overwritten completely.</p>
<p>The destination should be a mut reference to an array or an <code>ArrayViewMut</code> with
<code>MaybeUninit&lt;A&gt;</code> elements (which are overwritten without dropping any existing value).</p>
<p>Minor implementation note: Owned arrays like <code>self</code> may be sliced in place and own elements
that are not part of their active view; these are dropped at the end of this function,
after all elements in the “active view” are moved into <code>new_array</code>. If there is a panic in
drop of any such element, other elements may be leaked.</p>
<p><em><strong>Panics</strong></em> if the shapes don’t agree.</p>
<h6 id="example-1"><a href="#example-1">Example</a></h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray::Array</span>;

<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Array::from_iter</span>(<span class="number">0</span>..<span class="number">100</span>).<span class="ident">into_shape</span>((<span class="number">10</span>, <span class="number">10</span>)).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">Array::uninit</span>((<span class="number">10</span>, <span class="number">10</span>));
<span class="ident">a</span>.<span class="ident">move_into_uninit</span>(<span class="kw-2">&amp;mut</span> <span class="ident">b</span>);
<span class="kw">unsafe</span> {
    <span class="comment">// we can now promise we have fully initialized `b`.</span>
    <span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">b</span>.<span class="ident">assume_init</span>();
}</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.push" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#404-412">source</a></span><a href="#method.push" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.push" class="fnname">push</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;axis: <a class="struct" href="struct.Axis.html" title="struct ndarray::Axis">Axis</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;array: <a class="type" href="type.ArrayView.html" title="type ndarray::ArrayView">ArrayView</a>&lt;'_, A, D::<a class="associatedtype" href="trait.Dimension.html#associatedtype.Smaller" title="type ndarray::Dimension::Smaller">Smaller</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.63.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.ShapeError.html" title="struct ndarray::ShapeError">ShapeError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.RemoveAxis.html" title="trait ndarray::RemoveAxis">RemoveAxis</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Append an array to the array along an axis.</p>
<p>The elements of <code>array</code> are cloned and extend the axis <code>axis</code> in the present array;
<code>self</code> will grow in size by 1 along <code>axis</code>.</p>
<p>Append to the array, where the array being pushed to the array has one dimension less than
the <code>self</code> array. This method is equivalent to <a href="struct.ArrayBase.html#method.append">append</a> in this way:
<code>self.append(axis, array.insert_axis(axis))</code>.</p>
<p><em><strong>Errors</strong></em> with a shape error if the shape of self does not match the array-to-append;
all axes <em>except</em> the axis along which it being appended matter for this check:
the shape of <code>self</code> with <code>axis</code> removed must be the same as the shape of <code>array</code>.</p>
<p>The memory layout of the <code>self</code> array matters for ensuring that the append is efficient.
Appending automatically changes memory layout of the array so that it is appended to
along the “growing axis”. However, if the memory layout needs adjusting, the array must
reallocate and move memory.</p>
<p>The operation leaves the existing data in place and is most efficent if <code>axis</code> is a
“growing axis” for the array, i.e. one of these is true:</p>
<ul>
<li>The axis is the longest stride axis, for example the 0th axis in a C-layout or the
<em>n-1</em>th axis in an F-layout array.</li>
<li>The axis has length 0 or 1 (It is converted to the new growing axis)</li>
</ul>
<p>Ensure appending is efficient by for example starting from an empty array and/or always
appending to an array along the same axis.</p>
<p>The amortized average complexity of the append, when appending along its growing axis, is
O(<em>m</em>) where <em>m</em> is the number of individual elements to append.</p>
<p>The memory layout of the argument <code>array</code> does not matter to the same extent.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray</span>::{<span class="ident">Array</span>, <span class="ident">ArrayView</span>, <span class="ident">array</span>, <span class="ident">Axis</span>};

<span class="comment">// create an empty array and push rows to it</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Array::zeros</span>((<span class="number">0</span>, <span class="number">4</span>));
<span class="kw">let</span> <span class="ident">ones</span>  <span class="op">=</span> <span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="number">1.</span>; <span class="number">4</span>]);
<span class="kw">let</span> <span class="ident">zeros</span> <span class="op">=</span> <span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0.</span>; <span class="number">4</span>]);
<span class="ident">a</span>.<span class="ident">push</span>(<span class="ident">Axis</span>(<span class="number">0</span>), <span class="ident">ones</span>).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">push</span>(<span class="ident">Axis</span>(<span class="number">0</span>), <span class="ident">zeros</span>).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">push</span>(<span class="ident">Axis</span>(<span class="number">0</span>), <span class="ident">ones</span>).<span class="ident">unwrap</span>();

<span class="macro">assert_eq!</span>(
    <span class="ident">a</span>,
    <span class="macro">array!</span>[[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],
           [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],
           [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]]);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.append" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/impl_owned_array.rs.html#465-659">source</a></span><a href="#method.append" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.append" class="fnname">append</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;axis: <a class="struct" href="struct.Axis.html" title="struct ndarray::Axis">Axis</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;array: <a class="type" href="type.ArrayView.html" title="type ndarray::ArrayView">ArrayView</a>&lt;'_, A, D&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.63.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.ShapeError.html" title="struct ndarray::ShapeError">ShapeError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.RemoveAxis.html" title="trait ndarray::RemoveAxis">RemoveAxis</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Append an array to the array along an axis.</p>
<p>The elements of <code>array</code> are cloned and extend the axis <code>axis</code> in the present array;
<code>self</code> will grow in size by <code>array.len_of(axis)</code> along <code>axis</code>.</p>
<p><em><strong>Errors</strong></em> with a shape error if the shape of self does not match the array-to-append;
all axes <em>except</em> the axis along which it being appended matter for this check:
the shape of <code>self</code> with <code>axis</code> removed must be the same as the shape of <code>array</code> with
<code>axis</code> removed.</p>
<p>The memory layout of the <code>self</code> array matters for ensuring that the append is efficient.
Appending automatically changes memory layout of the array so that it is appended to
along the “growing axis”. However, if the memory layout needs adjusting, the array must
reallocate and move memory.</p>
<p>The operation leaves the existing data in place and is most efficent if <code>axis</code> is a
“growing axis” for the array, i.e. one of these is true:</p>
<ul>
<li>The axis is the longest stride axis, for example the 0th axis in a C-layout or the
<em>n-1</em>th axis in an F-layout array.</li>
<li>The axis has length 0 or 1 (It is converted to the new growing axis)</li>
</ul>
<p>Ensure appending is efficient by for example starting from an empty array and/or always
appending to an array along the same axis.</p>
<p>The amortized average complexity of the append, when appending along its growing axis, is
O(<em>m</em>) where <em>m</em> is the number of individual elements to append.</p>
<p>The memory layout of the argument <code>array</code> does not matter to the same extent.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">ndarray</span>::{<span class="ident">Array</span>, <span class="ident">ArrayView</span>, <span class="ident">array</span>, <span class="ident">Axis</span>};

<span class="comment">// create an empty array and append two rows at a time</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Array::zeros</span>((<span class="number">0</span>, <span class="number">4</span>));
<span class="kw">let</span> <span class="ident">ones</span>  <span class="op">=</span> <span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="number">1.</span>; <span class="number">8</span>]).<span class="ident">into_shape</span>((<span class="number">2</span>, <span class="number">4</span>)).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">zeros</span> <span class="op">=</span> <span class="ident">ArrayView::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0.</span>; <span class="number">8</span>]).<span class="ident">into_shape</span>((<span class="number">2</span>, <span class="number">4</span>)).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">append</span>(<span class="ident">Axis</span>(<span class="number">0</span>), <span class="ident">ones</span>).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">append</span>(<span class="ident">Axis</span>(<span class="number">0</span>), <span class="ident">zeros</span>).<span class="ident">unwrap</span>();
<span class="ident">a</span>.<span class="ident">append</span>(<span class="ident">Axis</span>(<span class="number">0</span>), <span class="ident">ones</span>).<span class="ident">unwrap</span>();

<span class="macro">assert_eq!</span>(
    <span class="ident">a</span>,
    <span class="macro">array!</span>[[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],
           [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],
           [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],
           [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],
           [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],
           [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]]);</code></pre></div>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-IntoIterator" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/iterators/into_iter.rs.html#100-110">source</a></span><a href="#impl-IntoIterator" class="anchor"></a><h3 class="code-header in-band">impl&lt;A, D&gt; <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a> for <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, D&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.Dimension.html" title="trait ndarray::Dimension">Dimension</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Item" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Item" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.63.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.Item" class="associatedtype">Item</a> = A</h4></section></summary><div class='docblock'><p>The type of the elements being iterated over.</p>
</div></details><details class="rustdoc-toggle" open><summary><section id="associatedtype.IntoIter" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.IntoIter" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.63.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.IntoIter" class="associatedtype">IntoIter</a> = IntoIter&lt;A, D&gt;</h4></section></summary><div class='docblock'><p>Which kind of iterator are we turning this into?</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into_iter" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/iterators/into_iter.rs.html#107-109">source</a></span><a href="#method.into_iter" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.63.0/core/iter/traits/collect/trait.IntoIterator.html#tymethod.into_iter" class="fnname">into_iter</a>(self) -&gt; Self::<a class="associatedtype" href="https://doc.rust-lang.org/1.63.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.IntoIter" title="type core::iter::traits::collect::IntoIterator::IntoIter">IntoIter</a></h4></section></summary><div class='docblock'><p>Creates an iterator from a value. <a href="https://doc.rust-lang.org/1.63.0/core/iter/traits/collect/trait.IntoIterator.html#tymethod.into_iter">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-IntoParallelIterator" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/parallel/into_impls.rs.html#7-17">source</a></span><a href="#impl-IntoParallelIterator" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, A, D&gt; <a class="trait" href="../rayon/iter/trait.IntoParallelIterator.html" title="trait rayon::iter::IntoParallelIterator">IntoParallelIterator</a> for &amp;'a <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, D&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.Dimension.html" title="trait ndarray::Dimension">Dimension</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,&nbsp;</span></h3></section></summary><div class="docblock"><p>Requires crate feature <code>rayon</code>.</p>
</div><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Item-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Item-1" class="anchor"></a><h4 class="code-header">type <a href="../rayon/iter/trait.IntoParallelIterator.html#associatedtype.Item" class="associatedtype">Item</a> = <a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.reference.html">&amp;'a </a>A</h4></section></summary><div class='docblock'><p>The type of item that the parallel iterator will produce.</p>
</div></details><details class="rustdoc-toggle" open><summary><section id="associatedtype.Iter" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Iter" class="anchor"></a><h4 class="code-header">type <a href="../rayon/iter/trait.IntoParallelIterator.html#associatedtype.Iter" class="associatedtype">Iter</a> = <a class="struct" href="parallel/struct.Parallel.html" title="struct ndarray::parallel::Parallel">Parallel</a>&lt;<a class="struct" href="struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;<a class="struct" href="struct.ViewRepr.html" title="struct ndarray::ViewRepr">ViewRepr</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.reference.html">&amp;'a </a>A&gt;, D&gt;&gt;</h4></section></summary><div class='docblock'><p>The parallel iterator type that will be created.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into_par_iter" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/parallel/into_impls.rs.html#14-16">source</a></span><a href="#method.into_par_iter" class="anchor"></a><h4 class="code-header">fn <a href="../rayon/iter/trait.IntoParallelIterator.html#tymethod.into_par_iter" class="fnname">into_par_iter</a>(self) -&gt; Self::<a class="associatedtype" href="../rayon/iter/trait.IntoParallelIterator.html#associatedtype.Iter" title="type rayon::iter::IntoParallelIterator::Iter">Iter</a></h4></section></summary><div class='docblock'><p>Converts <code>self</code> into a parallel iterator. <a href="../rayon/iter/trait.IntoParallelIterator.html#tymethod.into_par_iter">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-IntoParallelIterator-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/parallel/into_impls.rs.html#34-44">source</a></span><a href="#impl-IntoParallelIterator-1" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, A, D&gt; <a class="trait" href="../rayon/iter/trait.IntoParallelIterator.html" title="trait rayon::iter::IntoParallelIterator">IntoParallelIterator</a> for &amp;'a mut <a class="type" href="type.Array.html" title="type ndarray::Array">Array</a>&lt;A, D&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;D: <a class="trait" href="trait.Dimension.html" title="trait ndarray::Dimension">Dimension</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.63.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,&nbsp;</span></h3></section></summary><div class="docblock"><p>Requires crate feature <code>rayon</code>.</p>
</div><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Item-2" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Item-2" class="anchor"></a><h4 class="code-header">type <a href="../rayon/iter/trait.IntoParallelIterator.html#associatedtype.Item" class="associatedtype">Item</a> = <a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.reference.html">&amp;'a mut </a>A</h4></section></summary><div class='docblock'><p>The type of item that the parallel iterator will produce.</p>
</div></details><details class="rustdoc-toggle" open><summary><section id="associatedtype.Iter-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Iter-1" class="anchor"></a><h4 class="code-header">type <a href="../rayon/iter/trait.IntoParallelIterator.html#associatedtype.Iter" class="associatedtype">Iter</a> = <a class="struct" href="parallel/struct.Parallel.html" title="struct ndarray::parallel::Parallel">Parallel</a>&lt;<a class="struct" href="struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;<a class="struct" href="struct.ViewRepr.html" title="struct ndarray::ViewRepr">ViewRepr</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.63.0/std/primitive.reference.html">&amp;'a mut </a>A&gt;, D&gt;&gt;</h4></section></summary><div class='docblock'><p>The parallel iterator type that will be created.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into_par_iter-1" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/ndarray/parallel/into_impls.rs.html#41-43">source</a></span><a href="#method.into_par_iter-1" class="anchor"></a><h4 class="code-header">fn <a href="../rayon/iter/trait.IntoParallelIterator.html#tymethod.into_par_iter" class="fnname">into_par_iter</a>(self) -&gt; Self::<a class="associatedtype" href="../rayon/iter/trait.IntoParallelIterator.html#associatedtype.Iter" title="type rayon::iter::IntoParallelIterator::Iter">Iter</a></h4></section></summary><div class='docblock'><p>Converts <code>self</code> into a parallel iterator. <a href="../rayon/iter/trait.IntoParallelIterator.html#tymethod.into_par_iter">Read more</a></p>
</div></details></div></details></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="ndarray" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>